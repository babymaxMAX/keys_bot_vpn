<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LsJ‚öîÔ∏èVPN - –ê–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loading-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 400px;
            width: 100%;
        }

        .logo {
            width: 80px;
            height: 80px;
            background: #f39c12;
            border-radius: 20px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: bold;
            color: white;
        }

        .title {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 16px;
            color: #6c757d;
            margin-bottom: 30px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #f39c12;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .status {
            font-size: 14px;
            color: #6c757d;
            margin-bottom: 20px;
        }

        .fallback-link {
            background: #28a745;
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-weight: bold;
            display: inline-block;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .fallback-link:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .error {
            color: #dc3545;
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="notice-bar" style="position: fixed; top: 0; left: 0; right: 0; background: #ffe08a; color: #2c3e50; font-weight: 700; text-align: center; padding: 10px 12px; z-index: 9999; border-bottom: 1px solid #f1c40f; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;">
        –∫–ª—é—á –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π
    </div>
    <div class="loading-container" style="margin-top: 48px;">
        <div class="logo">‚öîÔ∏è</div>
        <div class="title">LsJ‚öîÔ∏èVPN</div>
        <div class="subtitle">–û—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...</div>
        
        <div class="spinner"></div>
        <div class="status" id="status">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é...</div>
        
        <a href="#" class="fallback-link" id="fallbackLink" style="display: none;">
            üì± –û—Ç–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é
        </a>
        
        <div class="error" id="error" style="display: none;">
            –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ v2raytun –∏–∑ App Store.
        </div>
    </div>

    <script>
        // VLESS –∫–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
        const originalKey = "vless://6265256a-a671-483c-8677-2ae9cc581e30@84.200.91.176:443/?type=tcp&security=reality&pbk=ao8d5RV6Qn0MRBM84kqB4TBPKX68Wn8y7AMbtGAB4mM&fp=chrome&sni=www.samsung.com&sid=79d7&spx=%2F&pqv=WMFxZMPgSM0oxK-VYlc5GGCpNv5xyvT1VvhJ1FNj8z-8pDts_5pS2CXXc2ngJHddEfGPvjJQC_yIqehxBBsCgdBICNEV17g9oxKoGkRkMqtSYk52Q0MBjLzGuk5C0fMnA-GfGjg6pG2Nv1EsrGhe-QKoblyGRTorJCx0O6pnCvNdhNNPgNbe4VT1UhNFcsLBf-O_8AKTfLD4h3RcjKTywkuS15BKF9O9X9IvamsfoWkeBe3o77jDvK6juY4BfjnGYEG0Y8fA8YoNYvzwtHfP_9UzVV98q8NkgxFpWc9fNgA0BR3uqecHW5tGop2TsMH9zZGEjVo1TWV_z0SqCJTCfqWZoNH8NfQbi2gJyeAohcNuWNdZXJyJaiEWSnCGqbi2VI1LQsbOfU2VvuG16nGYcJm1-0d1GbJc3nh05igKyqZ_WSIh80TqwSP2I1hUHqIrK4aZJsl-oOw1Rt-WCh3IxLzzrE0NBAO7zMazrIRvPJPMMhO8vZrGebZNFSjaH60NMB-l-5jzJFNJAx1ZzrAwat9Mn8ZJmpl3c35UWAvREKxR3lH3BkTCzWsayAw0sIBDV02q3jiGJjDQFIP18bgMVdsT3nCNELn4omC34e8-Y2Nunos_FpXe4z67dzCwJm_EuxI8XH0TDMifmwVUGajFHgeK5Do74Tef0LCrULK7nC2fsLGHL2S_T2Oro7rAW5Z3PV35Zowwv5OCTp93uWGJO2MOt8gQ5z_x8ZtgpZMuwuyTHdsTlQT9nXdaKGhVuhkS1XW3WkvsklTApclC17GUsgOW1K94iRkAkb_JFRjdzzjyrLS52IbwAmhsn_pRTvAkAnBKT7_38RJGfq3kXeiqPbWyudqmM1RoKz-zwBm6cgOY8EPssI2m_tkzxdfUmn8k7nWRZCIc6W5oXoK2IiGv1i2juk785Kpd7JlWSqNJD8Cz9v_DSD35IsSKmfusG46GtxuZa1L_iSbN2MV-J3YTFjxR8QDbciYYmcvmkctobY7srKZfujjUPYDQQ2_ZIHx9Ry3TajOJP0Jf5o-Vk05eG3N418Nij2JghcygL4manKbMDqz2NPnY3oNlnEcsrqfEb5UT9_hHpZ9jtYVz1furQQTqJKWoeFb31g6Tn_a-w8rpiQS0MUI8SLZQWbV_AzC1MnNX_CJi9Ju29aywX_RPlZih0EdJxUK8bj5uZ1AtkDz8uCZYaU4YW9nGsPkW30hLp4Ma3U5lb8rz4DOOiwKSWq7Q28eAtg_Pe8GAMLKb5Q64_GM1iDRVYMLPUgxqYrxNI7StqdD3Qy1VGamVEAukffgK_N_0AZcrBQwfxttgW-CSIox7Q5qxr1qUE-YYSIBulvrl4tintstSJmRBlfISFjRryfd75JACrsHp2Vp0phcWmdhAKEFNOBaeQlwlRRh1uix1f93NgFcdQRFUchh3Stl1ooEFhq8Zg8bCzE0tdm11iUwMeGZEYr5iH15UCt5lClNQ0D230vxCjHZX0OTolrubCTLLJ_PTuNz_KvaqL2aH_wF9OvZKI0K5HCHA7TpcohFg83V-dYvLAp7qA_DmX7GO2w_N1rP-XFTtCg-VdR0So1FaGmxY8LhQhV8m59Mek4hBaAYromNafRc6j-cTRaDuGnhvAWRkbo0AOxEWE3wC5hoKaYiaJ1JTiGW1rzCVPKIyiIYkKR4wP0Bgtbte1oH7LYQ97U2JqiWjWMEbMcLPmHWPh50DyfpVFxd84QNJSxMEca1ZXC6yUgmMqmfm_gWKaPJvogUuCG85UfrNQ8YcwOZzlVi5xIvFoH8KzY4X-NCUIzivsi5dhL1SlYfqP61VLtI4VnMXqysVwSo8Ae68pL-XIPn-rMkCuKhBGIB7AC0F7pVEh_xfRISoIvyKyX4GK2IHOB_cWjVTodkcCfNovN4G3qR78KDl6fCm8IM8B8DI-HI2kwpras75kpGH-i17CHnDq8jQcbCmfiMYQgKiVDuekWnXR2KyUu1MSwJn0RKd2cFhy2HXQ3YyW6ucBqp8vS9XbWjQ8rU0u24wNDAua26IvO6XtIrmsucpOERLlsLyIOcCa_yqJL6WWvtGBZBaGozBiC7Q6AVX0HuksysozIIOKDUjM1k_qdPM1zXLd-8jOO4HDYlN_hXFUMbs8n2F1LnJmK17NWVt3pQp8A9TFvJrmNaZFDFM_wetjtv5fQQRiYTS7ykmpbk4UM2D7dm-zQwkCjmBBIYB8sAzRpQG2Rev_9lQ4y9KmsgKe7OoRvZX69EVi50_k0ojjYnaVRWuRfFWcX9N1_msb84yJm1Fbs0J3m1tvri76d5rli9NoZQCPJ0lQYslnDnVlIYRYX5bvT9gmJao_8wyz4PQRbOZUkfObnPOo26_7qFZGxrGgqMiw6M2FUF-RbjkQ_j5yOekkvvwAhVKDK7o-98j6PGdOyBzpJnpLUyqo_mQ0rHau0jPAuL5oSEJHnVBDmpl2Cvv9kuaIk4EjCDen5WtNt17sLQ0EOkyBvLJ9ntyEPMB9WSvuleoW8a3OSzQSB_0mhPd9seUGfy7Wzjla-VTbNJMTvZY7qyD3KM26PEcA79uC4bwWsuo4EtotyYDMzyQumhYB6K4CC4PFyUWMTJzD0g&flow=xtls-rprx-vision#LsJComrades_free_BK‚ö°üî•üíéüåäüíê-u1";

        // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞: deeplink.website —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ config.html
        const configFileUrl = window.location.origin + '/config.html';
        const encodedConfigUrl = encodeURIComponent(configFileUrl);
        const deeplinkUrl = `https://deeplink.website/?url=${encodedConfigUrl}`;

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            let attempts = 0;
            const maxAttempts = 3;

            function attempt() {
                attempts++;
                try {
                    if (attempts === 1) {
                        window.location.href = deeplinkUrl;
                    } else if (attempts === 2) {
                        const a = document.createElement('a');
                        a.href = deeplinkUrl; 
                        a.style.display = 'none';
                        document.body.appendChild(a); 
                        a.click(); 
                        document.body.removeChild(a);
                    } else {
                        window.open(deeplinkUrl, '_blank');
                    }
                } catch (e) { /* no-op */ }

                if (attempts >= maxAttempts) {
                    setTimeout(() => {
                        // Fallback: –∫–æ–ø–∏—Ä—É–µ–º –∫–ª—é—á –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                        fetch(configFileUrl).then(r => r.text()).then(text => {
                            if (navigator.clipboard) {
                                navigator.clipboard.writeText(text);
                            }
                        }).catch(() => {/* no-op */});
                        document.getElementById('fallbackLink').style.display = 'inline-block';
                    }, 1000);
                } else {
                    setTimeout(attempt, 200);
                }
            }

            setTimeout(attempt, 100);
        };
    </script>
</body>
</html>
